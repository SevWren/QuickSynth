javascript:void(function(){try{const t="ai-selector-popup-unique",o="ai-selector-overlay-unique",e=[{name:"Google Gemini",url:"https://gemini.google.com/app"},{name:"Grok (X)",url:"https://x.com/i/grok"},{name:"ChatGPT (Temp Chat)",url:"https://chatgpt.com/?temporary-chat=true"},{name:"DeepAI Chat",url:"https://deepai.org/chat"},{name:"MS Copilot",url:"https://copilot.microsoft.com/"},{name:"Perplexity",url:"https://www.perplexity.ai/"}],l="Analyze the text internally (don%27t show questions). Create a concise summary:\n- Use simple sentences (split complex ones).\n- Use bullets for key facts/details.\n- Bold the first 2-3 words of new ideas.\n- Retain important clarifying details (scope, caveats).\n- If long, use 2-3 paragraphs.\n- Formatting: **Bold** central theme & key facts/entities. *Italicize* supporting ideas, author%27s purpose, & implications/outcomes.\n- Output ONLY the formatted summary.",n="Summarize the text in 5 bullet points or less and 1 paragraph.",s={colors:{bgDark:"#1f2937",bgDarker:"#111827",bgLighter:"#374151",border:"#4b5563",text:"#f3f4f6",textDim:"#9ca3af",accent:"#60a5fa",selectedBg:"rgba(96, 165, 250, 0.3)",selectedBorder:"#60a5fa",hoverBg:"#4b5563"},padding:"1rem",paddingSmall:"0.5rem",borderRadius:"0.75rem",fontSizeLg:"1.125rem",fontSizeBase:"1rem",fontSizeSm:"0.875rem",fontSizeXs:"0.75rem"};if(document.getElementById(t))return void console.log("AI Selector Popup already exists.");let i="";const c=window.getSelection();if(c&&c.toString().trim().length>0)i=c.toString().trim(),console.log("Using selected text.");else{c.removeAllRanges();const r=document.createRange();r.selectNodeContents(document.body),c.addRange(r),i=c.toString().trim(),c.removeAllRanges(),console.log("Using body text.")}if(!i)return void alert("Could not find text to process. Select text on the page or ensure the page body has text content.");let d=null,a=null,p=null,u=null,m=null;function g(){const e=document.getElementById(t),l=document.getElementById(o);e&&e.remove(),l&&l.remove(),console.log("Popup closed.")}function h(e,t){for(const l in t)e.style[l]=t[l]}function y(t,o){if(!d)return void alert("Please select an AI assistant first.");const e=t+"\n\nHere is the text to analyze:\n\n"+i;navigator.clipboard.writeText(e).then(()=>{alert(%60${o} prompt + text copied for ${d.name}.\nOpening ${d.name}...%60),console.log(%60Prompt (${o}) + Text copied for ${d.name}. Length: ${e.length}%60),window.open(d.url,"_blank"),g()}).catch(e=>{console.error("",e),alert("Error: "+e.message)})}const b=document.createElement("div");b.id=o,h(b,{position:"fixed",inset:"0",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:"2147483645",backdropFilter:"blur(3px)"}),b.onclick=g,document.body.appendChild(b);const f=document.createElement("div");f.id=t,h(f,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1000px",height:"80vh",backgroundColor:s.colors.bgDark,color:s.colors.text,borderRadius:s.borderRadius,boxShadow:"0 10px 25px rgba(0,0,0,0.4)",zIndex:"2147483646",display:"flex",flexDirection:"row",overflow:"hidden",fontFamily:"Arial, sans-serif"});const v=document.createElement("button");v.textContent="\u00D7",h(v,{position:"absolute",top:"10px",right:"15px",background:"none",border:"none",color:s.colors.textDim,fontSize:"2rem",fontWeight:"bold",cursor:"pointer",lineHeight:"1"}),v.onmouseover=()=>v.style.color=s.colors.text,v.onmouseout=()=>v.style.color=s.colors.textDim,v.onclick=g,f.appendChild(v);const k=document.createElement("div");h(k,{flex:"1",display:"flex",flexDirection:"column",borderRight:%601px solid ${s.colors.border}%60,overflow:"hidden"});const w=document.createElement("div");h(w,{padding:s.padding,backgroundColor:s.colors.bgDarker,borderBottom:%601px solid ${s.colors.border}%60,flexShrink:"0",display:"flex",justifyContent:"space-between",alignItems:"center"}),w.innerHTML=%60<h3 style="font-size: ${s.fontSizeLg}; font-weight: bold; margin: 0;">Selected Text</h3><span style="font-size: ${s.fontSizeXs}; background-color: ${s.colors.bgLighter}; padding: 2px 6px; border-radius: 10px;">${i.length} chars</span>%60,k.appendChild(w);const E=document.createElement("div");h(E,{flexGrow:"1",overflowY:"auto",padding:s.padding,whiteSpace:"pre-wrap",wordWrap:"break-word",color:s.colors.textDim,lineHeight:"1.6"}),E.textContent=i,k.appendChild(E),f.appendChild(k);const L=document.createElement("div");h(L,{flex:"1",display:"flex",flexDirection:"column",borderRight:%601px solid ${s.colors.border}%60,overflow:"hidden",backgroundColor:"#2a3748"});const x=document.createElement("div");h(x,{padding:s.padding,backgroundColor:s.colors.bgDarker,borderBottom:%601px solid ${s.colors.border}%60,flexShrink:"0"}),x.innerHTML=%60<h3 style="font-size: ${s.fontSizeLg}; font-weight: bold; margin: 0;">Select AI Assistant</h3>%60,L.appendChild(x);const C=document.createElement("div");h(C,{flexGrow:"1",overflowY:"auto",padding:s.paddingSmall}),e.forEach((t,c)=>{const r=document.createElement("div");h(r,{padding:s.paddingSmall,margin:s.paddingSmall,backgroundColor:s.colors.bgDark,borderRadius:"0.5rem",border:"1px solid transparent",cursor:"pointer",transition:"background-color 0.2s ease, border-color 0.2s ease"}),r.innerHTML=%60<div style="display: flex; align-items: center;"><div style="flex-grow: 1;"><div style="font-weight: 500; font-size: ${s.fontSizeBase};">${t.name}</div><div style="font-size: ${s.fontSizeXs}; color: ${s.colors.textDim}; margin-top: 2px;">${t.url.replace("https://","").split("/")[0]}</div></div></div>%60,r.onmouseover=()=>{d!==t&&(r.style.backgroundColor=s.colors.hoverBg)},r.onmouseout=()=>{d!==t&&(r.style.backgroundColor=s.colors.bgDark)},r.onclick=()=>{a&&(a.style.backgroundColor=s.colors.bgDark,a.style.borderColor="transparent",a.style.boxShadow="none"),d=t,a=r,a.style.backgroundColor=s.colors.selectedBg,a.style.borderColor=s.colors.selectedBorder,a.style.boxShadow=%600 0 0 2px ${s.colors.selectedBorder}%60,m&&(m.innerHTML=%60Selected: <strong style="color: ${s.colors.accent};">${t.name}</strong> <span style="font-size: ${s.fontSizeXs}; color: ${s.colors.textDim};">(${t.url.replace("https://","").split("/")[0]})</span>%60),p&&(p.style.opacity="1",p.style.cursor="pointer"),u&&(u.style.opacity="1",u.style.cursor="pointer"),console.log("AI Selected:",t.name)},C.appendChild(r),0===c&&setTimeout(()=>r.click(),0)}),L.appendChild(C),f.appendChild(L);const S=document.createElement("div");h(S,{flex:"1",display:"flex",flexDirection:"column",overflow:"hidden",backgroundColor:"#2a3748"});const B=document.createElement("div");h(B,{padding:s.padding,backgroundColor:s.colors.bgDarker,borderBottom:%601px solid ${s.colors.border}%60,flexShrink:"0"}),B.innerHTML=%60<h3 style="font-size: ${s.fontSizeLg}; font-weight: bold; margin: 0;">Processing Options</h3>%60,S.appendChild(B);const T=document.createElement("div");h(T,{flexGrow:"1",display:"flex",flexDirection:"column",padding:s.padding,overflowY:"auto"}),m=document.createElement("div"),h(m,{marginBottom:"1.5rem",fontSize:s.fontSizeSm,color:s.colors.textDim}),m.innerHTML="No AI selected",T.appendChild(m);const D=document.createElement("h4");h(D,{fontSize:s.fontSizeSm,fontWeight:"600",color:s.colors.textDim,marginBottom:s.paddingSmall,textTransform:"uppercase",letterSpacing:"0.05em"}),D.textContent="Prompt Format",T.appendChild(D),p=document.createElement("div"),h(p,{backgroundColor:s.colors.bgDark,padding:s.padding,borderRadius:"0.5rem",border:%601px solid ${s.colors.border}%60,marginBottom:"0.75rem",cursor:"not-allowed",opacity:"0.6",transition:"border-color 0.2s ease, transform 0.1s ease"}),p.innerHTML=%60<h5 style="font-weight: 500; font-size: ${s.fontSizeBase}; margin: 0 0 4px 0;">Detailed Format</h5><p style="font-size: ${s.fontSizeXs}; color: ${s.colors.textDim}; margin: 0;">Concise summary with specific formatting.</p>%60,p.onmouseover=()=>{d&&(p.style.borderColor=s.colors.accent)},p.onmouseout=()=>{d&&(p.style.borderColor=s.colors.border)},p.onclick=()=>{d&&y(l,"Detailed Format")},T.appendChild(p),u=document.createElement("div"),h(u,{backgroundColor:s.colors.bgDark,padding:s.padding,borderRadius:"0.5rem",border:%601px solid ${s.colors.border}%60,marginBottom:"0.75rem",cursor:"not-allowed",opacity:"0.6",transition:"border-color 0.2s ease, transform 0.1s ease"}),u.innerHTML=%60<h5 style="font-weight: 500; font-size: ${s.fontSizeBase}; margin: 0 0 4px 0;">Simple Summary Format</h5><p style="font-size: ${s.fontSizeXs}; color: ${s.colors.textDim}; margin: 0;">5 bullets or less + 1 paragraph summary.</p>%60,u.onmouseover=()=>{d&&(u.style.borderColor=s.colors.accent)},u.onmouseout=()=>{d&&(u.style.borderColor=s.colors.border)},u.onclick=()=>{d&&y(n,"Simple Summary")},T.appendChild(u);const I=document.createElement("div");h(I,{flexGrow:"1"}),T.appendChild(I);const A=document.createElement("div");h(A,{paddingTop:s.padding,borderTop:%601px solid ${s.colors.border}%60,marginTop:s.padding});const O=document.createElement("button");h(O,{width:"100%",backgroundColor:s.colors.bgLighter,color:s.colors.text,border:"none",padding:%60${s.paddingSmall} ${s.padding}%60,borderRadius:"0.5rem",fontSize:s.fontSizeSm,cursor:"pointer",textAlign:"center",transition:"background-color 0.2s ease"}),O.textContent="Copy Detailed Prompt + Text Manually",O.onmouseover=()=>O.style.backgroundColor=s.colors.hoverBg,O.onmouseout=()=>O.style.backgroundColor=s.colors.bgLighter,O.onclick=()=>{if(!d)return void alert("Please select an AI first to determine which prompt to copy.");const t=l+"\n\nHere is the text to analyze:\n\n"+i;navigator.clipboard.writeText(t).then(()=>{alert("Detailed format prompt + text copied to clipboard!")}).catch(e=>{alert("Failed to copy automatically. See console for details."),console.error("",e)})},A.appendChild(O),T.appendChild(A),S.appendChild(T),f.appendChild(S),document.body.appendChild(f),console.log("AI Selector Popup created.")}catch(e){console.error("Bookmarklet error:",e),alert("Error executing bookmarklet: "+e.message);const l=document.getElementById(t),n=document.getElementById(o);l&&l.remove(),n&&n.remove()}})();